<template>
<div class="card_holder">
  <div>
    <template v-if="bank == 'TARJETA EL CORTE INGLÉS'">
      <svg xmlns="http://www.w3.org/2000/svg" width="255" height="159" viewBox="0 0 255 159">
        <path fill="#008c2e" d="M4 0h247a4 4 0 0 1 4 4v151a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"/>
        <path d="M10.78 7h233.44a3.716 3.716 0 0 1 3.78 3.648v137.7a3.716 3.716 0 0 1-3.78 3.652H10.78A3.716 3.716 0 0 1 7 148.352V10.648A3.716 3.716 0 0 1 10.78 7z" class="b"/>
        <text class="c" transform="translate(15.818 93.881)">
            <tspan x="0" y="17">600833</tspan>
        </text>
        <text class="c" transform="translate(80.818 93.881)">
            <tspan x="6.544" y="17">{{eci_number}}</tspan>
        </text>
        <text class="c" transform="translate(192.818 93.881)">
            <tspan x="6.14" y="17">{{eci_mask}}</tspan>
        </text>
        <g>
          <text class="d" transform="translate(16.2 114.552)">
              <tspan x="0" y="13">APELLIDO APELLIDO</tspan>
          </text>
          <text class="d" transform="translate(16.2 129.552)">
              <tspan x="0" y="13">NOMBRE</tspan>
          </text>
        </g>
        <g>
            <path fill="#347e34" d="M85.03 77.824L85 27.008l85.99 25z"/>
            <path d="M121.994 44.445c.013.1.027.193.038.29.046.572.092 1.142.143 1.714.038.472.073.943.114 1.415s.079.936.118 1.405c.013.182.028.364.039.55a2.363 2.363 0 0 1 2.533 1.41 1.675 1.675 0 0 1 .665-.5 1.685 1.685 0 0 1 2.318.841 3.253 3.253 0 0 1 .342 1.294c.028.613.015 1.224.022 1.838v.2h-1.644v-.1-1.75a.985.985 0 0 0-.118-.495.552.552 0 0 0-.5-.3.517.517 0 0 0-.488.326.971.971 0 0 0-.092.391c-.012.741 0 1.48 0 2.222v.121h-1.558l-.022-.326c-.038-.655-.068-1.313-.105-1.968a3.465 3.465 0 0 0-.04-.536.986.986 0 0 0-.73-.769.308.308 0 0 0-.418.308 1.936 1.936 0 0 0 .018.265c.052.475.12.949.155 1.425.036.508.056 1.024.049 1.533a7.986 7.986 0 0 1-.3 2.23 2.99 2.99 0 0 1-.51 1.025 1.526 1.526 0 0 1-.894.556c-.013 0-.021.01-.033.013h-.323a1.457 1.457 0 0 1-.711-.391 2.5 2.5 0 0 1-.567-.979 5.2 5.2 0 0 1-.249-1.3 7.6 7.6 0 0 1 0-1.329 8.371 8.371 0 0 1 1.108-3.662 9.035 9.035 0 0 1 .565-.746.188.188 0 0 0 .054-.156c-.038-.4-.065-.808-.094-1.211-.027-.341-.058-.683-.086-1.025-.026-.325-.049-.648-.073-.972-.035-.418-.066-.836-.1-1.255-.02-.224-.039-.449-.056-.672l-.065-.872c.193 0 .378-.008.561-.015.283-.009.564-.021.847-.032a.55.55 0 0 1 .087-.011zm-.625 10.259c-.015-.274-.022-.543-.055-.815a2.186 2.186 0 0 0-.122-.478c-.027-.081-.1-.078-.144-.005a.646.646 0 0 0-.078.169 4.434 4.434 0 0 0-.174 1.082 7.1 7.1 0 0 0 .016 1.4 3.589 3.589 0 0 0 .117.5c.009.031.05.068.076.067a.122.122 0 0 0 .092-.065 1.377 1.377 0 0 0 .1-.252 6.865 6.865 0 0 0 .171-1.603zM87.941 49.366c.038-.179.064-.362.116-.536a3.109 3.109 0 0 1 1.73-1.969 3.829 3.829 0 0 1 1.806-.371 3.412 3.412 0 0 1 1.182.245c.044.017.075.034.075.092v1.741a.369.369 0 0 1-.007.039c-.031-.012-.06-.02-.088-.032a2.861 2.861 0 0 0-1.2-.238 1.825 1.825 0 0 0-1.735 1.208 1.937 1.937 0 0 0 0 1.2l.083-.056a2.018 2.018 0 0 1 1.134-.405 1.464 1.464 0 0 1 1.189.567 1.631 1.631 0 0 1 .4 1.095 1.328 1.328 0 0 1-.823 1.251 2.123 2.123 0 0 1-.83.2c-.167.008-.334 0-.521 0a1.027 1.027 0 0 0 .5.457 1.648 1.648 0 0 0 .966.08 3.49 3.49 0 0 0 1.215-.473.1.1 0 0 0 .057-.119 9.083 9.083 0 0 1-.13-1.579 5.553 5.553 0 0 1 .385-2.14 2.537 2.537 0 0 1 .8-1.091 1.231 1.231 0 0 1 .813-.275 1.036 1.036 0 0 1 .774.41 1.974 1.974 0 0 1 .4.99 5.081 5.081 0 0 1-.116 1.908 10.654 10.654 0 0 1-.666 1.959 1.037 1.037 0 0 1-.053.1.154.154 0 0 0 .076.247.706.706 0 0 0 .231.056 1.547 1.547 0 0 0 1.042-.325.072.072 0 0 1 .032-.014c0 .034.005.061.005.089v1.225a.12.12 0 0 1-.064.123 2.213 2.213 0 0 1-2.236.133 3.489 3.489 0 0 1-.413-.274c-.187.105-.378.221-.579.322a4.554 4.554 0 0 1-1.527.458 3.526 3.526 0 0 1-1.832-.235 2.411 2.411 0 0 1-1.519-2.014 3.6 3.6 0 0 1 .026-1.015.179.179 0 0 0-.014-.1 6.352 6.352 0 0 1-.622-1.721 3.392 3.392 0 0 1-.062-1.213zm7.039 1.59c-.013-.088-.029-.234-.059-.378-.018-.086-.042-.19-.148-.2s-.15.085-.188.164a2.528 2.528 0 0 0-.2 1.486.612.612 0 0 0 .069.191.113.113 0 0 0 .2.026.721.721 0 0 0 .111-.17 2.857 2.857 0 0 0 .215-1.119zm-4.143 1.347a.371.371 0 0 0 .369-.364.378.378 0 0 0-.369-.368.374.374 0 0 0-.365.371.37.37 0 0 0 .365.361zM109.862 51.858a1.07 1.07 0 0 1 1.048-.52c.041.006.073.012.073.066v1.407c-.1.017-.189.032-.279.057a.659.659 0 0 0-.538.7v1.474h-1.3v-.093c0-.42-.009-.844 0-1.264a.628.628 0 0 0-.611-.678c-.081-.013-.163-.013-.248-.02-.014.1-.021.195-.042.287a2.109 2.109 0 0 1-.761 1.164 2.378 2.378 0 0 1-1.523.568 2.507 2.507 0 0 1-1.336-.359.2.2 0 0 0-.251.01 6.6 6.6 0 0 1-2.071.9 3.571 3.571 0 0 1-2.453-.237 3.467 3.467 0 0 1-1.384-1.278 4.715 4.715 0 0 1-.695-1.982 4.943 4.943 0 0 1 .358-2.646 4.033 4.033 0 0 1 2.882-2.392 5.979 5.979 0 0 1 2.061-.111l.311.033v1.64c-.136-.027-.271-.056-.405-.079a3.858 3.858 0 0 0-1.783.056 2.4 2.4 0 0 0-1.683 1.636 3.228 3.228 0 0 0 .38 2.877 1.955 1.955 0 0 0 1.364.9 2.323 2.323 0 0 0 1.223-.166 4 4 0 0 0 1.04-.6.115.115 0 0 0 .035-.092 1.428 1.428 0 0 1 .211-1.083 1.157 1.157 0 0 1 1.062-.54.572.572 0 0 1 .543.574c.005.2 0 .4.019.592a2.106 2.106 0 0 0 .108.483.664.664 0 0 0 1.018.331.768.768 0 0 0 .224-.222.274.274 0 0 0-.163-.441c-.128-.043-.261-.073-.386-.125a1.511 1.511 0 0 1-.688-.536 1.293 1.293 0 0 1-.181-1.029 1.768 1.768 0 0 1 .752-1.122 1.28 1.28 0 0 1 1.543.054 2.752 2.752 0 0 1 .743.938.127.127 0 0 0 .126.081 2.072 2.072 0 0 1 1.427.532c.081.079.152.169.23.255zm-3.038-.523a.256.256 0 0 0-.261-.263.266.266 0 1 0 0 .532.259.259 0 0 0 .261-.269zM111.428 52.844v-1.43h.482l.207-3.224h1.423l-.263 3.4h.412c.023 0 .05-.039.065-.067a4.7 4.7 0 0 1 .795-1.149 2.433 2.433 0 0 1 1.292-.743 1.524 1.524 0 0 1 1.812 1.143 1.625 1.625 0 0 1-.265 1.232 3.242 3.242 0 0 1-1.131 1.03c-.2.117-.408.213-.613.318-.02.012-.04.021-.07.038a1.139 1.139 0 0 0 .8.495 1.82 1.82 0 0 0 1.088-.28c.143-.079.28-.169.432-.265V54.875a.213.213 0 0 1-.088.18 2.179 2.179 0 0 1-1.144.48 2.595 2.595 0 0 1-2.841-1.72 1.872 1.872 0 0 0-.2-.38.4.4 0 0 0-.2-.143.17.17 0 0 0-.24.179v1.747h-1.42v-2.341a4.08 4.08 0 0 0-.333-.033zm4.634-1.578c0-.183-.1-.259-.268-.179a.81.81 0 0 0-.234.169.862.862 0 0 0-.278.584c0 .154.1.221.24.172a.963.963 0 0 0 .54-.746zM141.518 53.147c.123-.047.238-.088.348-.133a10.6 10.6 0 0 0 1.344-.752c.717-.444 1.419-.911 2.175-1.287a4.367 4.367 0 0 1 1.3-.462 2.364 2.364 0 0 1 1.273.115 1.545 1.545 0 0 1 .969 1.273 2.928 2.928 0 0 1-.6 2.216 3.821 3.821 0 0 1-2.451 1.5c-.221.04-.441.064-.67.092 0-.051-.006-.08-.006-.109v-1.456c0-.066.022-.092.089-.115a4.772 4.772 0 0 0 1.492-.706.837.837 0 0 0 .352-.4.605.605 0 0 0-.352-.778.624.624 0 0 0-.478.039 9.261 9.261 0 0 0-.69.38c-1.067.652-2.13 1.312-3.193 1.968a2.958 2.958 0 0 1-1.766.446 1.2 1.2 0 0 1-.578-.181.115.115 0 0 0-.09 0 4.063 4.063 0 0 1-1.62.665 4.5 4.5 0 0 1-1.024.09 2.528 2.528 0 0 1-1.5-.457 4.775 4.775 0 0 1-.429-.429c-.065.042-.148.1-.233.16-.455.313-.9.626-1.356.938a.106.106 0 0 0-.056.115 3.652 3.652 0 0 1-.2 1.77 1.632 1.632 0 0 1-1.346 1.095 1.883 1.883 0 0 1-1.635-.442 1.494 1.494 0 0 1-.469-.977 2.322 2.322 0 0 1 .872-2.009 3.235 3.235 0 0 1 .991-.594.094.094 0 0 0 .072-.111v-.431c-.106.067-.2.13-.3.184a3.2 3.2 0 0 1-1.271.438 1.666 1.666 0 0 1-1.2-.26 1.506 1.506 0 0 1-.553-.891 2.226 2.226 0 0 1 .376-1.827 4.025 4.025 0 0 1 1.6-1.383 6.2 6.2 0 0 1 2.2-.63c.158-.017.317-.029.482-.045v1.624c-.215.026-.43.045-.639.078A3.969 3.969 0 0 0 131 52.1a1.172 1.172 0 0 0-.538.75 1.013 1.013 0 0 0 0 .279c.015.118.056.144.173.132a1.086 1.086 0 0 0 .534-.222 2.7 2.7 0 0 0 1.03-1.278c.017-.042.034-.072.091-.072h1.429a.291.291 0 0 1 .042 0v2.13c.326-.117.635-.225.944-.334-.064-.2-.122-.382-.174-.569a5.328 5.328 0 0 1-.195-1.815 3.868 3.868 0 0 1 .547-1.834 2.067 2.067 0 0 1 .817-.794 1.387 1.387 0 0 1 1.169-.014 1.658 1.658 0 0 1 1.108 1.406 3.805 3.805 0 0 1-.192 1.745 6.384 6.384 0 0 1-.952 1.863c-.033.042-.022.068.008.108a1.031 1.031 0 0 0 .623.345 1.354 1.354 0 0 0 .72-.091c.055-.02.068-.042.049-.1a3.808 3.808 0 0 1-.219-1.225 2.1 2.1 0 0 1 .594-1.564 2.006 2.006 0 0 1 2.477-.214 1.52 1.52 0 0 1 .66 1.191 2.555 2.555 0 0 1-.199 1.116l-.023.065a.17.17 0 0 0-.005.043zm-5.135-2.43a.454.454 0 0 0 0-.071 3.47 3.47 0 0 0-.072-.4c-.043-.132-.143-.141-.232-.032a.707.707 0 0 0-.1.158 2.544 2.544 0 0 0-.2 1.227.853.853 0 0 0 .085.286c.039.088.118.094.189.024a.621.621 0 0 0 .108-.15 2.414 2.414 0 0 0 .221-1.042zm3.963 1.722a.817.817 0 0 0-.12-.469.3.3 0 0 0-.533 0 .8.8 0 0 0 0 .831.306.306 0 0 0 .555-.013.7.7 0 0 0 .098-.349zm-8.737 4.309a.383.383 0 0 0 0 .053.372.372 0 0 0 .231.322.3.3 0 0 0 .326-.095.45.45 0 0 0 .057-.5.3.3 0 0 0-.5-.076.385.385 0 0 0-.115.299z" class="b"/>
            <path d="M145.63 48.84c-1.055.677-2.1 1.349-3.158 2.026l-1-1.232q1.667-1.081 3.334-2.159c.276.455.546.904.824 1.365z" class="b"/>
        </g>
      </svg>
    </template>
    <template v-else>
      <svg xmlns="http://www.w3.org/2000/svg" width="255" height="159" viewBox="0 0 255 159">
        <path d="M4 0h247a4 4 0 0 1 4 4v151a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z" fill="#faad00" />
        <path d="M10.78 7h233.44a3.716 3.716 0 0 1 3.78 3.648v137.7a3.716 3.716 0 0 1-3.78 3.652H10.78A3.716 3.716 0 0 1 7 148.352V10.648A3.716 3.716 0 0 1 10.78 7z"
          fill="#fff" />
        <text class="ce" transform="translate(21 114.959)">
          <tspan x="0" y="11">Fecha de expiración</tspan>
        </text>
        <text transform="translate(21 127.297)" font-size="12" font-family="OpenSans,Open Sans" fill="#dd7f00">
          <tspan x="0" y="13">{{expiration_date}}</tspan>
        </text>
        <text class="ce" transform="translate(21.845 80.203)">
          <tspan x="0" y="11">Número de tarjeta</tspan>
        </text>
        <text class="ee" transform="translate(20.732 93.171)">
          <tspan x="0" y="17">****</tspan>
        </text>
        <text class="ee" transform="translate(79.732 93.171)">
          <tspan x="0" y="17">****</tspan>
        </text>
        <text class="ee" transform="translate(138.732 93.171)">
          <tspan x="0" y="17">****</tspan>
        </text>
        <text class="ee" transform="translate(197.732 93.171)">
          <tspan x="0" y="17">{{mask}}</tspan>
        </text>
      </svg>
    </template>
  </div>
  <template v-if="bank !== 'TARJETA EL CORTE INGLÉS'">
    <div class="logo_holder">
      <icon-base :width="card_icon.width" :height="card_icon.height"><component :is="card_icon.icon"></component></icon-base>
    </div>
  </template>

</div>
</template>

<script>
import amex from '../icons/card_logos/amex.vue';
import eci from '../icons/card_logos/eci.vue';
import generic from '../icons/card_logos/generic.vue';
import mastercard from '../icons/card_logos/mastercard.vue';
import visa from '../icons/card_logos/visa.vue';
import IconBase from '../icons/IconBase.vue';

export default {
  props: {
    bank: {
      type: String,
      default: 'TARJETA EL CORTE INGLÉS'
    },
    bin: {
      type: [Number, String],
      default: '000000'
    },
    expiration: {
      type: [Number, String],
      default: '9912'
    },
    mask: {
      type: [Number, String],
      default: '****'
    }
  },
  computed: {
    eci_number() {
      if (this.bank === 'TARJETA EL CORTE INGLÉS') {
        return `000000000${this.mask.substring(0, 1)}`;
      }
      return null;
    },
    eci_mask() {
      if (this.bank === 'TARJETA EL CORTE INGLÉS') {
        return this.mask.substring(1);
      }
      return null;
    },
    expiration_date () {
      if(this.bank != 'TARJETA EL CORTE INGLÉS') {
        return this.expiration.substring(2,4) + '/' + this.expiration.substring(0,2)
      }
    },
    card_icon () {
      switch(this.bank){
        case 'TARJETA EL CORTE INGLÉS':
          return {
            icon: 'eci',
            width: 50,
            height: 30            
          }
        break;

        case 'VISA':
          return {
            icon: 'generic',
            width: 80,
            height: 70           
          }
        break;
      }
    }
  },
  components: {
    'icon-base': IconBase,
    'amex': amex,
    'eci': eci,
    'generic': generic,
    'mastercard': mastercard,
    'visa': visa,
  }
};
</script>


<style scoped lang="less">
.b {
  fill: #fff;
}
.c,
.d {
  fill: #347e34;
}
.c {
  font-size: 16px;
  font-family: OpenSans-Semibold, Open Sans;
  font-weight: 600;
}
.d {
  font-size: 12px;
  font-family: OpenSans, Open Sans;
}
.ce,
.ee {
  fill: #dd7f00;
}

.ce {
  font-size: 10px;
  font-family: OpenSans-Light, Open Sans;
  font-weight: 300;
}

.ee {
  font-size: 16px;
  font-family: OpenSans-Semibold, Open Sans;
  font-weight: 600;
}

.card_holder{
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  position: relative;
}

.logo_holder{
  position: absolute;
  width: 60px;
  height: auto;
  left: ~"calc(50% - 30px)";
  top: 20px;
  svg{
    width: 100%;
    height: auto;
  }
}
</style>